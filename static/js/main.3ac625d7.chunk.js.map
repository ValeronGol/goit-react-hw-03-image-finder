{"version":3,"sources":["components/App/App.styled.jsx","services/Api.jsx","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/App/App.jsx","services/Scroll.jsx","index.js"],"names":["ConteinerApp","styled","div","TitleApp","h3","axios","defaults","baseURL","fetchImages","query","page","get","then","response","data","SearchHeader","header","Searchform","form","SearchButton","button","SearchLabel","span","SearchInput","input","Searchbar","props","onSubmit","event","preventDefault","target","value","trim","toLowerCase","toast","error","type","autoComplete","autoFocus","placeholder","Gallery","ul","Item","Img","img","ImageGalleryItem","image","largeImageURL","tags","src","alt","prototype","PropTypes","string","isRequired","ImageGallery","images","onClick","map","id","webformatURL","LoaderMore","style","margin","color","height","width","timeout","But","Button","func","Overlay","ContainerModal","Modal","hendelKeyDown","e","code","showModal","hideModal","currentTarget","window","addEventListener","this","removeEventListener","Component","App","state","imgData","loading","isOpenModal","largeimg","submitForm","q","setState","fetchData","prevState","hits","catch","getNewImg","togleModalShow","dataset","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3ac625d7.chunk.js","sourcesContent":["import styled from '@emotion/styled';\n\nexport const ConteinerApp = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\nexport const TitleApp = styled.h3`\n  margin: auto;\n  font-size: large;\n  text-transform: uppercase;\n  color: #d44343;\n`;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const fetchImages = (query, page) => {\n  const params = 'image_type=photo&orientation=horizontal&per_page=12';\n  const key = '22579903-23cd6d72a32c76f3810c95a65';\n  const response = axios\n    .get(`?key=${key}&q=${query}&page=${page}&${params}`)\n    .then(response => response.data);\n  return response;\n};\n","import styled from '@emotion/styled';\n\nexport const SearchHeader = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\nexport const Searchform = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\nexport const SearchButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const SearchLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\nexport const SearchInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &:placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  SearchHeader,\r\n  Searchform,\r\n  SearchButton,\r\n  SearchLabel,\r\n  SearchInput,\r\n} from './Searchbar.styled';\r\n\r\nexport const Searchbar = props => {\r\n  function inputQuery(event) {\r\n    event.preventDefault();\r\n    if (event.target[1].value.trim() === '') {\r\n      toast.error('Для поиска необходимо ввести слово');\r\n      return;\r\n    }\r\n    props.onSubmit(event.target[1].value.toLowerCase());\r\n    event.target[1].value = '';\r\n  }\r\n  return (\r\n    <SearchHeader>\r\n      <Searchform onSubmit={inputQuery}>\r\n        <SearchButton type=\"submit\">\r\n          <SearchLabel>Search</SearchLabel>\r\n        </SearchButton>\r\n\r\n        <SearchInput\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </Searchform>\r\n    </SearchHeader>\r\n  );\r\n};\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\n\nexport const Gallery = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n","import styled from '@emotion/styled';\n\nexport const Item = styled.div`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\nexport const Img = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { Item, Img } from './ImageGalleryItem.styled';\n\nconst ImageGalleryItem = ({ image, largeImageURL, tags }) => {\n  return (\n    <Item>\n      <Img src={image} alt={tags} data-largeimg={largeImageURL} />\n    </Item>\n  );\n};\n\nImageGalleryItem.prototype = {\n  image: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport { Gallery } from './ImageGallery.styled';\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <Gallery onClick={onClick}>\n      {images.map(({ id, largeImageURL, webformatURL, tags }) => (\n        <li key={id}>\n          <ImageGalleryItem\n            image={webformatURL}\n            tags={tags}\n            largeImageURL={largeImageURL}\n          />\n        </li>\n      ))}\n    </Gallery>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.number,\n      largeImageURL: PropTypes.string,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","import Loader from 'react-loader-spinner';\n\nexport const LoaderMore = () => {\n  return (\n    <div style={{ margin: 'auto' }}>\n      <Loader\n        type=\"Circles\"\n        color=\"green\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    </div>\n  );\n};\n","import styled from '@emotion/styled';\n\nexport const But = styled.button`\n  padding: 8px 16px;\n  margin: auto;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { But } from './Button.styled';\n\nexport const Button = ({ onClick }) => {\n  return (\n    <But type=\"button\" onClick={onClick}>\n      Load more\n    </But>\n  );\n};\nButton.prototype = {\n  onClick: PropTypes.func.isRequired,\n};\n","import styled from '@emotion/styled';\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200; ;\n`;\nexport const ContainerModal = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n","import React, { Component } from 'react';\nimport { Overlay, ContainerModal } from './Modal.styled';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.hendelKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hendelKeyDown);\n  }\n\n  hendelKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.showModal();\n    }\n  };\n\n  hideModal = e => {\n    if (e.currentTarget === e.target) {\n      this.props.showModal();\n    }\n  };\n  render() {\n    return (\n      <Overlay onClick={this.hideModal}>\n        <ContainerModal>\n          <img src={this.props.props} alt=\"\" />\n        </ContainerModal>\n      </Overlay>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ConteinerApp, TitleApp } from './App.styled';\nimport { fetchImages } from 'services/Api';\nimport { Scroll } from 'services/Scroll';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport { LoaderMore } from 'components/Loader/Loader';\nimport { Button } from 'components/Button/Button';\nimport Modal from 'components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    query: null,\n    imgData: null,\n    loading: false,\n    error: null,\n    page: 1,\n    isOpenModal: false,\n    largeimg: '',\n  };\n\n  submitForm = q => {\n    this.setState({ query: q });\n  };\n  fetchData = () => {\n    this.setState({ loading: true });\n    const { query, page } = this.state;\n    const images = fetchImages(query, page);\n    images\n      .then(imgData => {\n        this.setState(prevState => ({\n          page: prevState.page + 1,\n          imgData: prevState.imgData\n            ? [...prevState.imgData, ...imgData.hits]\n            : imgData.hits,\n          loading: false,\n        }));\n      })\n      .catch(error => {\n        this.setState({\n          error,\n        });\n      });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    Scroll();\n\n    if (prevState.query !== this.state.query) {\n      this.setState({ imgData: null, page: 1 });\n      this.fetchData();\n    }\n  }\n\n  getNewImg = () => {\n    this.fetchData();\n  };\n\n  togleModalShow = event => {\n    if (!this.state.isOpenModal) {\n      this.setState({ largeimg: event.target.dataset.largeimg });\n    }\n    this.setState(prevState => ({\n      isOpenModal: !prevState.isOpenModal,\n    }));\n  };\n\n  render({ imgData, loading, error } = this.state) {\n    return (\n      <ConteinerApp>\n        <Searchbar onSubmit={this.submitForm} />\n        {error && <TitleApp>{error.message}</TitleApp>}\n        {imgData && imgData.length === 0 && (\n          <TitleApp>\n            По такому запросу картинок не найдено. Введите другой запрос!!!\n          </TitleApp>\n        )}\n        {!imgData && loading && <LoaderMore />}\n        {imgData && imgData.length > 0 && (\n          <>\n            <ImageGallery\n              images={this.state.imgData}\n              onClick={this.togleModalShow}\n            />\n            {this.state.isOpenModal && (\n              <Modal\n                showModal={this.togleModalShow}\n                props={this.state.largeimg}\n              />\n            )}\n            {loading ? <LoaderMore /> : <Button onClick={this.getNewImg} />}\n          </>\n        )}\n        <ToastContainer autoClose={3000} />\n      </ConteinerApp>\n    );\n  }\n}\n\nexport default App;\n","export const Scroll = () => {\n  return window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from 'components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}